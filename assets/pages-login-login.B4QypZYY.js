import{u as e,r as a,a as s,c as l,w as t,i as o,o as n,b as u,d as i,e as c,f as d,I as r,g as p,s as m,h as f,n as _}from"./index-CpIGjQk-.js";import{_ as g}from"./_plugin-vue_export-helper.BCo6x5W8.js";const b=g({__name:"login",setup(g){const b=e(),w=a(!1),h=s({username:"",password:""}),V=async()=>{if(h.username&&h.password){w.value=!0;try{const e=await b.login(h.username,h.password);e.success?(m({title:"登录成功",icon:"success"}),f({url:"/pages/detail/detail"})):m({title:e.message||"登录失败",icon:"none"})}catch(e){m({title:"网络错误，请重试",icon:"none"})}finally{w.value=!1}}else m({title:"请输入用户名和密码",icon:"none"})},v=()=>{_({url:"/pages/register/register"})};return(e,a)=>{const s=i,m=c,f=o,_=r,g=p;return n(),l(f,{class:"login-container"},{default:t(()=>[u(f,{class:"login-header"},{default:t(()=>[u(s,{class:"logo",src:"/static/bg.jpg",mode:"aspectFit"}),u(m,{class:"title"},{default:t(()=>[d("个人记账")]),_:1}),u(m,{class:"subtitle"},{default:t(()=>[d("轻松管理您的财务")]),_:1})]),_:1}),u(f,{class:"login-form"},{default:t(()=>[u(f,{class:"form-item"},{default:t(()=>[u(m,{class:"label"},{default:t(()=>[d("用户名")]),_:1}),u(_,{class:"input",modelValue:h.username,"onUpdate:modelValue":a[0]||(a[0]=e=>h.username=e),placeholder:"请输入用户名",type:"text"},null,8,["modelValue"])]),_:1}),u(f,{class:"form-item"},{default:t(()=>[u(m,{class:"label"},{default:t(()=>[d("密码")]),_:1}),u(_,{class:"input",modelValue:h.password,"onUpdate:modelValue":a[1]||(a[1]=e=>h.password=e),placeholder:"请输入密码",type:"password"},null,8,["modelValue"])]),_:1}),u(g,{class:"login-btn",loading:w.value,onClick:V},{default:t(()=>[d(" 登录 ")]),_:1},8,["loading"]),u(f,{class:"register-link"},{default:t(()=>[u(m,null,{default:t(()=>[d("还没有账号？")]),_:1}),u(m,{class:"link",onClick:v},{default:t(()=>[d("立即注册")]),_:1})]),_:1})]),_:1})]),_:1})}}},[["__scopeId","data-v-bb01b27b"]]);export{b as default};
