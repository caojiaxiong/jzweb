import{A as e,r as a,D as s,a as l,w as t,i as o,b as n,e as u,B as i,j as r,k as c,I as d,y as p,z as m,x as f,E as _}from"./index-OYoFuAgb.js";import{_ as g}from"./_plugin-vue_export-helper.BCo6x5W8.js";const b=g({__name:"login",setup(g){const b=e(),w=a(!1),y=s({username:"",password:""}),V=async()=>{if(y.username&&y.password){w.value=!0;try{const e=await b.login(y.username,y.password);e.success?(m({title:"登录成功",icon:"success"}),f({url:"/pages/detail/detail"})):m({title:e.message||"登录失败",icon:"none"})}catch(e){m({title:"网络错误，请重试",icon:"none"})}finally{w.value=!1}}else m({title:"请输入用户名和密码",icon:"none"})},h=()=>{_({url:"/pages/register/register"})};return(e,a)=>{const s=i,m=r,f=o,_=d,g=p;return n(),l(f,{class:"login-container"},{default:t(()=>[u(f,{class:"login-header"},{default:t(()=>[u(s,{class:"logo",src:"/static/bg.jpg",mode:"aspectFit"}),u(m,{class:"title"},{default:t(()=>[c("个人记账")]),_:1}),u(m,{class:"subtitle"},{default:t(()=>[c("轻松管理您的财务")]),_:1})]),_:1}),u(f,{class:"login-form"},{default:t(()=>[u(f,{class:"form-item"},{default:t(()=>[u(m,{class:"label"},{default:t(()=>[c("用户名")]),_:1}),u(_,{class:"input",modelValue:y.username,"onUpdate:modelValue":a[0]||(a[0]=e=>y.username=e),placeholder:"请输入用户名",type:"text"},null,8,["modelValue"])]),_:1}),u(f,{class:"form-item"},{default:t(()=>[u(m,{class:"label"},{default:t(()=>[c("密码")]),_:1}),u(_,{class:"input",modelValue:y.password,"onUpdate:modelValue":a[1]||(a[1]=e=>y.password=e),placeholder:"请输入密码",type:"password"},null,8,["modelValue"])]),_:1}),u(g,{class:"login-btn",loading:w.value,onClick:V},{default:t(()=>[c(" 登录 ")]),_:1},8,["loading"]),u(f,{class:"register-link"},{default:t(()=>[u(m,null,{default:t(()=>[c("还没有账号？")]),_:1}),u(m,{class:"link",onClick:h},{default:t(()=>[c("立即注册")]),_:1})]),_:1})]),_:1})]),_:1})}}},[["__scopeId","data-v-bb01b27b"]]);export{b as default};
