import{u as e,l as s,p as a,q as l,c as t,w as c,i as u,m as n,o as f,b as o,d as i,e as d,f as m,y as r,G as _,s as p,C as g}from"./index-BrtSbkGa.js";import{_ as v}from"./_plugin-vue_export-helper.BCo6x5W8.js";const w=v({__name:"profile",setup(v){const w=e(),C=s(),b=a(()=>w.userInfo||{}),k=a(()=>{if(0===C.records.length)return 0;return[...new Set(C.records.map(e=>n(e.date).format("YYYY-MM-DD")))].length}),h=a(()=>C.records.length),x=a(()=>C.balance),y=()=>{_({count:1,sizeType:["compressed"],sourceType:["album","camera"],success:e=>{e.tempFilePaths[0],p({title:"å¤´åƒæ›´æ–°æˆåŠŸ",icon:"success"})}})},Y=()=>{g({title:"ç¼–è¾‘ä¸ªäººä¿¡æ¯",content:"æ˜¯å¦è¦ç¼–è¾‘ä¸ªäººä¿¡æ¯ï¼Ÿ",success:e=>{e.confirm&&console.log("ç¼–è¾‘ä¸ªäººä¿¡æ¯")}})},j=()=>{g({title:"å¯¼å‡ºæ•°æ®",content:"æ˜¯å¦è¦å¯¼å‡ºæ‰€æœ‰è®°è´¦æ•°æ®ï¼Ÿ",success:e=>{e.confirm&&p({title:"æ•°æ®å¯¼å‡ºæˆåŠŸ",icon:"success"})}})},F=()=>{g({title:"å¤‡ä»½æ•°æ®",content:"æ˜¯å¦è¦å¤‡ä»½å½“å‰æ•°æ®ï¼Ÿ",success:e=>{e.confirm&&p({title:"æ•°æ®å¤‡ä»½æˆåŠŸ",icon:"success"})}})},D=()=>{g({title:"æ¢å¤æ•°æ®",content:"æ˜¯å¦è¦æ¢å¤å¤‡ä»½çš„æ•°æ®ï¼Ÿè¿™å°†è¦†ç›–å½“å‰æ•°æ®ã€‚",success:e=>{e.confirm&&p({title:"æ•°æ®æ¢å¤æˆåŠŸ",icon:"success"})}})},I=()=>{g({title:"å…³äºŽåº”ç”¨",content:"ä¸ªäººè®°è´¦ v1.0.0\n\nä¸€ä¸ªç®€å•æ˜“ç”¨çš„ä¸ªäººè®°è´¦åº”ç”¨ï¼Œå¸®åŠ©æ‚¨è½»æ¾ç®¡ç†è´¢åŠ¡ã€‚",showCancel:!1})},M=()=>{g({title:"æ„è§åé¦ˆ",content:"å¦‚æœ‰é—®é¢˜æˆ–å»ºè®®ï¼Œè¯·è”ç³»å¼€å‘è€…ã€‚",showCancel:!1})},T=()=>{p({title:"å·²æ˜¯æœ€æ–°ç‰ˆæœ¬",icon:"success"})},q=()=>{g({title:"é€€å‡ºç™»å½•",content:"ç¡®å®šè¦é€€å‡ºç™»å½•å—ï¼Ÿ",success:e=>{e.confirm&&w.logout()}})};return l(async()=>{await C.fetchRecords()}),(e,s)=>{const a=i,l=d,n=u;return f(),t(n,{class:"profile-container"},{default:c(()=>[o(n,{class:"user-card"},{default:c(()=>[o(n,{class:"user-info"},{default:c(()=>[o(a,{class:"avatar",src:b.value.avatar||"/static/bg.jpg",mode:"aspectFill",onClick:y},null,8,["src"]),o(n,{class:"user-details"},{default:c(()=>[o(l,{class:"nickname"},{default:c(()=>[m(r(b.value.nickname||"æœªè®¾ç½®æ˜µç§°"),1)]),_:1}),o(l,{class:"username"},{default:c(()=>[m(r(b.value.username),1)]),_:1})]),_:1}),o(n,{class:"edit-btn",onClick:Y},{default:c(()=>[o(l,{class:"edit-icon"},{default:c(()=>[m("âœï¸")]),_:1})]),_:1})]),_:1}),o(n,{class:"stats-section"},{default:c(()=>[o(n,{class:"stat-item"},{default:c(()=>[o(l,{class:"stat-number"},{default:c(()=>[m(r(k.value),1)]),_:1}),o(l,{class:"stat-label"},{default:c(()=>[m("è®°è´¦å¤©æ•°")]),_:1})]),_:1}),o(n,{class:"stat-item"},{default:c(()=>[o(l,{class:"stat-number"},{default:c(()=>[m(r(h.value),1)]),_:1}),o(l,{class:"stat-label"},{default:c(()=>[m("è®°è´¦ç¬”æ•°")]),_:1})]),_:1}),o(n,{class:"stat-item"},{default:c(()=>[o(l,{class:"stat-number"},{default:c(()=>[m(r(x.value>=0?"+":"")+"Â¥"+r(x.value.toFixed(2)),1)]),_:1}),o(l,{class:"stat-label"},{default:c(()=>[m("æ€»èµ„äº§")]),_:1})]),_:1})]),_:1})]),_:1}),o(n,{class:"menu-section"},{default:c(()=>[o(n,{class:"menu-group"},{default:c(()=>[o(n,{class:"menu-item",onClick:j},{default:c(()=>[o(n,{class:"menu-left"},{default:c(()=>[o(l,{class:"menu-icon"},{default:c(()=>[m("ðŸ“Š")]),_:1}),o(l,{class:"menu-title"},{default:c(()=>[m("å¯¼å‡ºæ•°æ®")]),_:1})]),_:1}),o(l,{class:"menu-arrow"},{default:c(()=>[m(">")]),_:1})]),_:1}),o(n,{class:"menu-item",onClick:F},{default:c(()=>[o(n,{class:"menu-left"},{default:c(()=>[o(l,{class:"menu-icon"},{default:c(()=>[m("ðŸ’¾")]),_:1}),o(l,{class:"menu-title"},{default:c(()=>[m("å¤‡ä»½æ•°æ®")]),_:1})]),_:1}),o(l,{class:"menu-arrow"},{default:c(()=>[m(">")]),_:1})]),_:1}),o(n,{class:"menu-item",onClick:D},{default:c(()=>[o(n,{class:"menu-left"},{default:c(()=>[o(l,{class:"menu-icon"},{default:c(()=>[m("ðŸ”„")]),_:1}),o(l,{class:"menu-title"},{default:c(()=>[m("æ¢å¤æ•°æ®")]),_:1})]),_:1}),o(l,{class:"menu-arrow"},{default:c(()=>[m(">")]),_:1})]),_:1})]),_:1}),o(n,{class:"menu-group"},{default:c(()=>[o(n,{class:"menu-item",onClick:I},{default:c(()=>[o(n,{class:"menu-left"},{default:c(()=>[o(l,{class:"menu-icon"},{default:c(()=>[m("â„¹ï¸")]),_:1}),o(l,{class:"menu-title"},{default:c(()=>[m("å…³äºŽåº”ç”¨")]),_:1})]),_:1}),o(l,{class:"menu-arrow"},{default:c(()=>[m(">")]),_:1})]),_:1}),o(n,{class:"menu-item",onClick:M},{default:c(()=>[o(n,{class:"menu-left"},{default:c(()=>[o(l,{class:"menu-icon"},{default:c(()=>[m("ðŸ’¬")]),_:1}),o(l,{class:"menu-title"},{default:c(()=>[m("æ„è§åé¦ˆ")]),_:1})]),_:1}),o(l,{class:"menu-arrow"},{default:c(()=>[m(">")]),_:1})]),_:1}),o(n,{class:"menu-item",onClick:T},{default:c(()=>[o(n,{class:"menu-left"},{default:c(()=>[o(l,{class:"menu-icon"},{default:c(()=>[m("ðŸ”„")]),_:1}),o(l,{class:"menu-title"},{default:c(()=>[m("æ£€æŸ¥æ›´æ–°")]),_:1})]),_:1}),o(l,{class:"menu-arrow"},{default:c(()=>[m(">")]),_:1})]),_:1})]),_:1}),o(n,{class:"menu-group"},{default:c(()=>[o(n,{class:"menu-item logout",onClick:q},{default:c(()=>[o(n,{class:"menu-left"},{default:c(()=>[o(l,{class:"menu-icon"},{default:c(()=>[m("ðŸšª")]),_:1}),o(l,{class:"menu-title"},{default:c(()=>[m("é€€å‡ºç™»å½•")]),_:1})]),_:1}),o(l,{class:"menu-arrow"},{default:c(()=>[m(">")]),_:1})]),_:1})]),_:1})]),_:1})]),_:1})}}},[["__scopeId","data-v-f4f7a7fd"]]);export{w as default};
