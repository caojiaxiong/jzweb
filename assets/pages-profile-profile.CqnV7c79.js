import{A as e,u as s,c as a,o as t,a as l,w as c,i as u,d as n,b as f,e as o,B as i,j as d,k as m,t as r,C as _,z as p,s as g}from"./index-CXBwxw54.js";import{_ as k}from"./_plugin-vue_export-helper.BCo6x5W8.js";const v=k({__name:"profile",setup(k){const v=e(),w=s(),C=a(()=>v.userInfo||{}),b=a(()=>{if(0===w.records.length)return 0;return[...new Set(w.records.map(e=>n(e.date).format("YYYY-MM-DD")))].length}),h=a(()=>w.records.length),j=a(()=>w.balance),x=()=>{_({count:1,sizeType:["compressed"],sourceType:["album","camera"],success:e=>{e.tempFilePaths[0],p({title:"å¤´åƒæ›´æ–°æˆåŠŸ",icon:"success"})}})},Y=()=>{g({title:"ç¼–è¾‘ä¸ªäººä¿¡æ¯",content:"æ˜¯å¦è¦ç¼–è¾‘ä¸ªäººä¿¡æ¯ï¼Ÿ",success:e=>{e.confirm&&console.log("ç¼–è¾‘ä¸ªäººä¿¡æ¯")}})},y=()=>{g({title:"å¯¼å‡ºæ•°æ®",content:"æ˜¯å¦è¦å¯¼å‡ºæ‰€æœ‰è®°è´¦æ•°æ®ï¼Ÿ",success:e=>{e.confirm&&p({title:"æ•°æ®å¯¼å‡ºæˆåŠŸ",icon:"success"})}})},F=()=>{g({title:"å¤‡ä»½æ•°æ®",content:"æ˜¯å¦è¦å¤‡ä»½å½“å‰æ•°æ®ï¼Ÿ",success:e=>{e.confirm&&p({title:"æ•°æ®å¤‡ä»½æˆåŠŸ",icon:"success"})}})},z=()=>{g({title:"æ¢å¤æ•°æ®",content:"æ˜¯å¦è¦æ¢å¤å¤‡ä»½çš„æ•°æ®ï¼Ÿè¿™å°†è¦†ç›–å½“å‰æ•°æ®ã€‚",success:e=>{e.confirm&&p({title:"æ•°æ®æ¢å¤æˆåŠŸ",icon:"success"})}})},D=()=>{g({title:"å…³äºŽåº”ç”¨",content:"ä¸ªäººè®°è´¦ v1.0.0\n\nä¸€ä¸ªç®€å•æ˜“ç”¨çš„ä¸ªäººè®°è´¦åº”ç”¨ï¼Œå¸®åŠ©æ‚¨è½»æ¾ç®¡ç†è´¢åŠ¡ã€‚",showCancel:!1})},I=()=>{g({title:"æ„è§åé¦ˆ",content:"å¦‚æœ‰é—®é¢˜æˆ–å»ºè®®ï¼Œè¯·è”ç³»å¼€å‘è€…ã€‚",showCancel:!1})},M=()=>{p({title:"å·²æ˜¯æœ€æ–°ç‰ˆæœ¬",icon:"success"})},T=()=>{g({title:"é€€å‡ºç™»å½•",content:"ç¡®å®šè¦é€€å‡ºç™»å½•å—ï¼Ÿ",success:e=>{e.confirm&&v.logout()}})};return t(async()=>{await w.fetchRecords()}),(e,s)=>{const a=i,t=d,n=u;return f(),l(n,{class:"profile-container"},{default:c(()=>[o(n,{class:"user-card"},{default:c(()=>[o(n,{class:"user-info"},{default:c(()=>[o(a,{class:"avatar",src:C.value.avatar||"/static/bg.jpg",mode:"aspectFill",onClick:x},null,8,["src"]),o(n,{class:"user-details"},{default:c(()=>[o(t,{class:"nickname"},{default:c(()=>[m(r(C.value.nickname||"æœªè®¾ç½®æ˜µç§°"),1)]),_:1}),o(t,{class:"username"},{default:c(()=>[m(r(C.value.username),1)]),_:1})]),_:1}),o(n,{class:"edit-btn",onClick:Y},{default:c(()=>[o(t,{class:"edit-icon"},{default:c(()=>[m("âœï¸")]),_:1})]),_:1})]),_:1}),o(n,{class:"stats-section"},{default:c(()=>[o(n,{class:"stat-item"},{default:c(()=>[o(t,{class:"stat-number"},{default:c(()=>[m(r(b.value),1)]),_:1}),o(t,{class:"stat-label"},{default:c(()=>[m("è®°è´¦å¤©æ•°")]),_:1})]),_:1}),o(n,{class:"stat-item"},{default:c(()=>[o(t,{class:"stat-number"},{default:c(()=>[m(r(h.value),1)]),_:1}),o(t,{class:"stat-label"},{default:c(()=>[m("è®°è´¦ç¬”æ•°")]),_:1})]),_:1}),o(n,{class:"stat-item"},{default:c(()=>[o(t,{class:"stat-number"},{default:c(()=>[m(r(j.value>=0?"+":"")+"Â¥"+r(j.value.toFixed(2)),1)]),_:1}),o(t,{class:"stat-label"},{default:c(()=>[m("æ€»èµ„äº§")]),_:1})]),_:1})]),_:1})]),_:1}),o(n,{class:"menu-section"},{default:c(()=>[o(n,{class:"menu-group"},{default:c(()=>[o(n,{class:"menu-item",onClick:y},{default:c(()=>[o(n,{class:"menu-left"},{default:c(()=>[o(t,{class:"menu-icon"},{default:c(()=>[m("ðŸ“Š")]),_:1}),o(t,{class:"menu-title"},{default:c(()=>[m("å¯¼å‡ºæ•°æ®")]),_:1})]),_:1}),o(t,{class:"menu-arrow"},{default:c(()=>[m(">")]),_:1})]),_:1}),o(n,{class:"menu-item",onClick:F},{default:c(()=>[o(n,{class:"menu-left"},{default:c(()=>[o(t,{class:"menu-icon"},{default:c(()=>[m("ðŸ’¾")]),_:1}),o(t,{class:"menu-title"},{default:c(()=>[m("å¤‡ä»½æ•°æ®")]),_:1})]),_:1}),o(t,{class:"menu-arrow"},{default:c(()=>[m(">")]),_:1})]),_:1}),o(n,{class:"menu-item",onClick:z},{default:c(()=>[o(n,{class:"menu-left"},{default:c(()=>[o(t,{class:"menu-icon"},{default:c(()=>[m("ðŸ”„")]),_:1}),o(t,{class:"menu-title"},{default:c(()=>[m("æ¢å¤æ•°æ®")]),_:1})]),_:1}),o(t,{class:"menu-arrow"},{default:c(()=>[m(">")]),_:1})]),_:1})]),_:1}),o(n,{class:"menu-group"},{default:c(()=>[o(n,{class:"menu-item",onClick:D},{default:c(()=>[o(n,{class:"menu-left"},{default:c(()=>[o(t,{class:"menu-icon"},{default:c(()=>[m("â„¹ï¸")]),_:1}),o(t,{class:"menu-title"},{default:c(()=>[m("å…³äºŽåº”ç”¨")]),_:1})]),_:1}),o(t,{class:"menu-arrow"},{default:c(()=>[m(">")]),_:1})]),_:1}),o(n,{class:"menu-item",onClick:I},{default:c(()=>[o(n,{class:"menu-left"},{default:c(()=>[o(t,{class:"menu-icon"},{default:c(()=>[m("ðŸ’¬")]),_:1}),o(t,{class:"menu-title"},{default:c(()=>[m("æ„è§åé¦ˆ")]),_:1})]),_:1}),o(t,{class:"menu-arrow"},{default:c(()=>[m(">")]),_:1})]),_:1}),o(n,{class:"menu-item",onClick:M},{default:c(()=>[o(n,{class:"menu-left"},{default:c(()=>[o(t,{class:"menu-icon"},{default:c(()=>[m("ðŸ”„")]),_:1}),o(t,{class:"menu-title"},{default:c(()=>[m("æ£€æŸ¥æ›´æ–°")]),_:1})]),_:1}),o(t,{class:"menu-arrow"},{default:c(()=>[m(">")]),_:1})]),_:1})]),_:1}),o(n,{class:"menu-group"},{default:c(()=>[o(n,{class:"menu-item logout",onClick:T},{default:c(()=>[o(n,{class:"menu-left"},{default:c(()=>[o(t,{class:"menu-icon"},{default:c(()=>[m("ðŸšª")]),_:1}),o(t,{class:"menu-title"},{default:c(()=>[m("é€€å‡ºç™»å½•")]),_:1})]),_:1}),o(t,{class:"menu-arrow"},{default:c(()=>[m(">")]),_:1})]),_:1})]),_:1})]),_:1})]),_:1})}}},[["__scopeId","data-v-f4f7a7fd"]]);export{v as default};
