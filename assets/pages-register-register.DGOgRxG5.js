import{u as e,r as a,a as s,c as l,w as t,i as o,o as n,b as r,e as d,f as i,I as u,g as c,s as m,j as f}from"./index-CpIGjQk-.js";import{_ as p}from"./_plugin-vue_export-helper.BCo6x5W8.js";const _=p({__name:"register",setup(p){const _=e(),w=a(!1),g=s({username:"",nickname:"",password:"",confirmPassword:""}),V=async()=>{if(g.username&&g.nickname&&g.password&&g.confirmPassword)if(g.password===g.confirmPassword)if(g.password.length<6)m({title:"密码长度不能少于6位",icon:"none"});else{w.value=!0;try{const e=await _.register(g.username,g.password,g.nickname);e.success?(m({title:"注册成功",icon:"success"}),setTimeout(()=>{f()},1500)):m({title:e.message||"注册失败",icon:"none"})}catch(e){m({title:"网络错误，请重试",icon:"none"})}finally{w.value=!1}}else m({title:"两次输入的密码不一致",icon:"none"});else m({title:"请填写完整信息",icon:"none"})},k=()=>{f()};return(e,a)=>{const s=d,m=o,f=u,p=c;return n(),l(m,{class:"register-container"},{default:t(()=>[r(m,{class:"register-header"},{default:t(()=>[r(s,{class:"title"},{default:t(()=>[i("注册账号")]),_:1}),r(s,{class:"subtitle"},{default:t(()=>[i("创建您的个人记账账户")]),_:1})]),_:1}),r(m,{class:"register-form"},{default:t(()=>[r(m,{class:"form-item"},{default:t(()=>[r(s,{class:"label"},{default:t(()=>[i("用户名")]),_:1}),r(f,{class:"input",modelValue:g.username,"onUpdate:modelValue":a[0]||(a[0]=e=>g.username=e),placeholder:"请输入用户名",type:"text"},null,8,["modelValue"])]),_:1}),r(m,{class:"form-item"},{default:t(()=>[r(s,{class:"label"},{default:t(()=>[i("昵称")]),_:1}),r(f,{class:"input",modelValue:g.nickname,"onUpdate:modelValue":a[1]||(a[1]=e=>g.nickname=e),placeholder:"请输入昵称",type:"text"},null,8,["modelValue"])]),_:1}),r(m,{class:"form-item"},{default:t(()=>[r(s,{class:"label"},{default:t(()=>[i("密码")]),_:1}),r(f,{class:"input",modelValue:g.password,"onUpdate:modelValue":a[2]||(a[2]=e=>g.password=e),placeholder:"请输入密码",type:"password"},null,8,["modelValue"])]),_:1}),r(m,{class:"form-item"},{default:t(()=>[r(s,{class:"label"},{default:t(()=>[i("确认密码")]),_:1}),r(f,{class:"input",modelValue:g.confirmPassword,"onUpdate:modelValue":a[3]||(a[3]=e=>g.confirmPassword=e),placeholder:"请再次输入密码",type:"password"},null,8,["modelValue"])]),_:1}),r(p,{class:"register-btn",loading:w.value,onClick:V},{default:t(()=>[i(" 注册 ")]),_:1},8,["loading"]),r(m,{class:"login-link"},{default:t(()=>[r(s,null,{default:t(()=>[i("已有账号？")]),_:1}),r(s,{class:"link",onClick:k},{default:t(()=>[i("立即登录")]),_:1})]),_:1})]),_:1})]),_:1})}}},[["__scopeId","data-v-b3842357"]]);export{_ as default};
